<!-- https://bugs.libre-soc.org/show_bug.cgi?id=1055 -->
<!-- https://libre-soc.org/openpower/sv/rfc/ls004/ -->

# Store Floating-Point Single with Update Shifted Indexed

X-Form

* stfsupsx FRS,RA,RB,SH

Pseudo-code:

    EA <- (RA) + (RB)<<(SH+1)
    MEM(RA, 4)<- SINGLE( (FRS) )
    RA <- EA

Description:

    Let the effective address (EA) be the sum of the contents of
    register RB shifted by (SH+1), and the contents of register RA.

    The contents of register FRS are converted to single
    format (see page 142) and stored into the word in stor-
    age addressed by RA.

    EA is placed into register RA.

    If RA=0, the instruction form is invalid.

Special Registers Altered:

    None

# Store Floating-Point Double with Update Shifted Indexed

X-Form

* stfdupsx FRS,RA,RB

Pseudo-code:

    EA <- (RA) + (RB)<<(SH+1)
    MEM(RA, 8)<- (FRS)
    RA <- EA

Description:

    Let the effective address (EA) be the sum of the contents of
    register RB shifted by (SH+1), and the contents of register RA.

    The contents of register FRS are stored into the dou-
    bleword in storage addressed by RA.

    EA is placed into register RA.

    If RA=0, the instruction form is invalid.

Special Registers Altered:

    None

