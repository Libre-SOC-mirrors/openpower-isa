<!-- Draft Instructions here described in -->
<!-- https://libre-soc.org/openpower/sv/bitmanip/ -->
<!-- These instructions are *not yet official* -->

# Gather instruction

X-Form

* gbbd RT,RA

Pseudo-code:

    result <- [0] * 64
    do j = 0 to 7
        do k = 0 to 7
            b <- (RA)[k*8+j]
            result[j*8+k] <- b
    RT <- result

Special Registers Altered:

    CR0                    (if Rc=1)

# Ternary Bitwise Logic Immediate

TLI-Form

* ternlogi RT,RA,RB,TLI (Rc=0)
* ternlogi. RT,RA,RB,TLI (Rc=1)

Pseudo-code:

    result <- [0] * XLEN
    do i = 0 to XLEN - 1
      idx <- (RT)[i] || (RA)[i] || (RB)[i]
      result[i] <- TLI[7-idx]
    RT <- result

Special Registers Altered:

    CR0                    (if Rc=1)

# Condition Register Ternary Bitwise Logic Immediate

CRB-Form

* crternlogi BF,BFA,BFB,TLI,msk

Pseudo-code:

    bf <- CR[4*BF+32:4*BF+35]
    bfa <- CR[4*BFA+32:4*BFA+35]
    bfb <- CR[4*BFB+32:4*BFB+35]

    result <- [0] * 4
    do i = 0 to 3
      idx <- bf[i] || bfa[i] || bfb[i]
      result[i] <- TLI[7-idx]
    do i = 0 to 3
        if msk[i] = 1 then
            CR[4*BF+32+i] <- result[i]

Special Registers Altered:

     CR field BF

# Add With Shift By Immediate

Z23-Form

* sadd RT,RA,RB,SH (Rc=0)
* sadd. RT,RA,RB,SH (Rc=1)

Pseudo-code:

    n <- (RB)
    m <- ((0b0 || SH) + 1)
    RT <- (n[m:XLEN-1] || [0]*m) + (RA)

Special Registers Altered:

    CR0                    (if Rc=1)

# Add With Shift By Immediate Word

Z23-Form

* saddw RT,RA,RB,SH (Rc=0)
* saddw. RT,RA,RB,SH (Rc=1)

Pseudo-code:

    n <- ([0]*(XLEN/2)) || (RB)[XLEN/2:XLEN-1]
    if (RB)[XLEN/2] = 1 then
        n[0:XLEN/2-1] <- [1]*(XLEN/2)
    m <- ((0b0 || SH) + 1)
    RT <- (n[m:XLEN-1] || [0]*m) + (RA)

Special Registers Altered:

    CR0                    (if Rc=1)

# Add With Shift By Immediate Unsigned Word

Z23-Form

* sadduw RT,RA,RB,SH (Rc=0)
* sadduw. RT,RA,RB,SH (Rc=1)

Pseudo-code:

    n <- ([0]*(XLEN/2)) || (RB)[XLEN/2:XLEN-1]
    m <- ((0b0 || SH) + 1)
    RT <- (n[m:XLEN-1] || [0]*m) + (RA)

Special Registers Altered:

    CR0                    (if Rc=1)
